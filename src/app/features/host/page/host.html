<div>
  <h2>Session: {{ sessionId }}</h2>

  <h3>–û–±–µ—Ä—ñ—Ç—å —Ç–µ–º—É:</h3>

  @if(topics().length) {
    <div style="display: flex; gap: 10px; flex-wrap: wrap">
      @for(topic of topics(); track topic.id) {
        <button
          (click)="chooseTopic(topic)"
          style="padding: 10px; border: 1px solid #ccc"
        >
          {{ topic.name }}
        </button>
      }
    </div>
  } @else {
    <p>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–µ–º...</p>
  }


  @if (gameState(); as s) {

    <h3>–ì—Ä–∞–≤–µ—Ü—å: {{ s?.activePlayer }}</h3>

    <p>–¢–∞–π–º–µ—Ä A: {{ s?.timeA }} —Å–µ–∫</p>
    <p>–¢–∞–π–º–µ—Ä B: {{ s?.timeB }} —Å–µ–∫</p>

    <p>–ó–∞–ø—É—â–µ–Ω–æ: {{ s?.running ? '–¢–∞–∫' : '–ù—ñ' }}</p>

    <p>
      –ö–∞—Ä—Ç–∏–Ω–∫–∞:
      {{ (s?.imageIndex ?? 0) + 1 }}/{{ s?.images?.length ?? 0 }}
    </p>


  } @else {
    <p>–û—á—ñ–∫—É—î–º–æ —Å—Ç–∞–Ω –≥—Ä–∏...</p>
  }
</div>
<hr>

<button (click)="start('A')">‚ñ∂ –°—Ç–∞—Ä—Ç A</button>
<button (click)="start('B')">‚ñ∂ –°—Ç–∞—Ä—Ç B</button>
<button (click)="pause()">‚è∏ –ü–∞—É–∑–∞</button>

<button (click)="correct()">‚úì Correct</button>
<button (click)="wrong()">‚úó Wrong (-3 —Å–µ–∫)</button>

<button (click)="nextImage()">‚è≠ –ù–∞—Å—Ç—É–ø–Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–∞</button>
<button (click)="resetTimers()">üîÑ –°–∫–∏–Ω—É—Ç–∏ —á–∞—Å</button>

<h2>–ì—Ä–∞–≤–µ—Ü—å: {{ gameState()?.activePlayer }} {{gameState()?.images?.[gameState().imageIndex]?.alt}}</h2>

<img
  [src]="gameState()?.images?.[gameState().imageIndex]?.src"
  [alt]="gameState()?.images?.[gameState().imageIndex]?.alt"
  style="width: 100%; max-width: 500px;"
>
